(()=>{"use strict";var e={242:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.countPlacedSquares=r.countConnectedLetters=void 0,r.countConnectedLetters=function e(r,t,n){if(t<0||n<0||t>=r.length||n>=r[t].length||""===r[t][n].char)return 0;var a=r[t][n].char;r[t][n].char="";for(var o=1,l=0,s=[[-1,0],[0,1],[1,0],[0,-1]];l<s.length;l++){var i=s[l];o+=e(r,t+i[0],n+i[1])}return r[t][n].char=a,o},r.countPlacedSquares=function(e){for(var r=0,t=0;t<e.length;t++)for(var n=0;n<e[t].length;n++)""!==e[t][n].char&&r++;return r}},951:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.refreshTiles=r.isTilePlaced=void 0;var n=t(564);r.isTilePlaced=function(e){return e.childElementCount>0},r.refreshTiles=function(e,r){var t=document.getElementById(e);if(t){t.innerHTML="";for(var a=0;a<r.length;a++){var o=document.createElement("div");o.classList.add("tile"),o.id="tile-".concat(e,"-").concat(a),o.textContent=r[a],t.appendChild(o)}(0,n.makeTilesDraggable)()}}},667:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.makeNewUser=r.updateHighscore=r.findUser=r.getCurrentWord=r.removeFromCurrentWord=r.addToCurrentWord=r.resetCurrentWord=r.setUserName=r.resetScores=r.addPlayerScore=r.getPlayerScore=r.player2=r.player1=void 0;var n=t(112);function a(e){for(var r=0,t=(0,n.getUsers)();r<t.length;){if(t[r].userName==e)return t[r];r++}return{userName:"",password:"",highScore:0}}r.player1={currentScore:0,user:"",currentWords:[]},r.player2={currentScore:0,user:"",currentWords:[]},r.getPlayerScore=function(e){return 1==e?r.player1.currentScore:r.player2.currentScore},r.addPlayerScore=function(e,t){1==e?r.player1.currentScore=r.player1.currentScore+t:r.player2.currentScore=r.player2.currentScore+t},r.resetScores=function(){r.player1.currentScore=0,r.player2.currentScore=0},r.setUserName=function(e,t){1==e?r.player1.user=t:r.player2.user=t},r.resetCurrentWord=function(){r.player1.currentWords=[],r.player2.currentWords=[]},r.addToCurrentWord=function(e,t){1==e?r.player1.currentWords.push(t):r.player2.currentWords.push(t)},r.removeFromCurrentWord=function(e,t){var n=1==e?r.player1.currentWords:r.player2.currentWords,a=n.indexOf(t);a>-1&&n.splice(a,1)},r.getCurrentWord=function(e){return 1==e?r.player1.currentWords:r.player2.currentWords},r.findUser=a,r.updateHighscore=function(){for(var e=a(r.player1.user),t=a(r.player2.user),o=(0,n.getUsers)(),l=0,s=0;l<o.length&&o[l].userName!=e.userName;)l++;for(""!==r.player1.user&&(r.player1.currentScore>e.highScore||""!==e.userName)&&(o[l].highScore=r.player1.currentScore);s<o.length&&o[s].userName!=t.userName;)s++;""!==r.player2.user&&(r.player2.currentScore>t.highScore||""!==t.userName)&&(o[s].highScore=r.player2.currentScore),(0,n.saveUsers)(o)},r.makeNewUser=function(e,r){var t=(0,n.getUsers)(),a={userName:e,password:r,highScore:0};t.push(a),(0,n.saveUsers)(t)}},131:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.getPoints=void 0;var t={a:1,b:3,c:3,d:2,e:1,f:4,g:2,h:4,i:1,j:8,k:5,l:1,m:3,n:1,o:1,p:3,q:10,r:1,s:1,t:1,u:1,v:4,w:4,x:8,y:4,z:10};r.getPoints=function(e,r){var n=[];function a(e,r,o,l,s,i,c){var u=r.char,d=0,f=i.some((function(e){return e.row===r.row&&e.col===r.col&&e.special===r.special&&e.char===r.char}));3===r.special&&f?c=2:4===r.special&&f&&(c=3),""!==u&&(d=t[u.toLowerCase()]*c),1===r.special&&f?d*=2:2===r.special&&f&&(d*=3),n.some((function(e){return e.row===r.row&&e.col===r.col&&e.special===r.special&&e.char===r.char}))?d=0:n.push(r);var g=r.row,v=r.col;return 14===g&&l>0||0===g&&l<0||14===v&&s>0||0===v&&s<0?d:""===r.char?0:d+a(e,e[g+l][v+s],o+d,l,s,i,c)}var o=0;r.currentWords.sort((function(e,r){return r.special-e.special}));for(var l=0;l<r.currentWords.length;l++){var s=r.currentWords[l];o+=a(e,s,0,-1,0,r.currentWords,1)+a(e,s,0,1,0,r.currentWords,1)+a(e,s,0,0,-1,r.currentWords,1)+a(e,s,0,0,1,r.currentWords,1)}return o}},704:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.display_queue=r.dequeue=r.head=r.enqueue=r.is_empty=r.empty=void 0,r.empty=function(){return[0,0,[]]},r.is_empty=function(e){return e[0]===e[1]},r.enqueue=function(e,r){var t=r[1];r[2][t]=e,r[1]=t+1},r.head=function(e){var r=e[0];return e[2][r]},r.dequeue=function(e){var r=e[0];e[0]=r+1},r.display_queue=function(e){console.log(e[2].slice(e[0],e[1]))}},401:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.generateRandomLetters=void 0;var n=t(704);r.generateRandomLetters=function(){for(var e=n.empty(),r=function(e){for(var r,t,n=e.length;n>0;)t=Math.floor(Math.random()*n),n--,r=[e[t],e[n]],e[n]=r[0],e[t]=r[1];return e}(["E","E","E","E","E","E","E","E","E","E","E","E","A","A","A","A","A","A","A","A","A","I","I","I","I","I","I","I","I","I","O","O","O","O","O","O","O","O","N","N","N","N","N","N","R","R","R","R","R","R","T","T","T","T","T","T","L","L","L","L","S","S","S","S","U","U","U","U","D","D","D","D","G","G","G","B","B","C","C","M","M","P","P","F","F","H","H","V","V","W","W","Y","Y","K","J","X","Q","Z"]),t=0;t<r.length;t++)n.enqueue(r[t],e);return e}},112:(e,r)=>{function t(e){var r=JSON.parse(e),t=[];return r.forEach((function(e){var n=JSON.parse(e),a=r.indexOf(e);t[a]=n})),t}function n(e){var r=[];return e.forEach((function(t){var n=e.indexOf(t);r[n]=JSON.stringify(t)})),JSON.stringify(r)}Object.defineProperty(r,"__esModule",{value:!0}),r.getUsers=r.saveUsers=r.userArrayToJson=r.jsonToUserArray=void 0,r.jsonToUserArray=t,r.userArrayToJson=n,r.saveUsers=function(e){localStorage.setItem("UserData",n(e))},r.getUsers=function(){var e=localStorage.getItem("UserData");return null===e?[]:t(e)}},4:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.checkWordsOnBoard=void 0,r.checkWordsOnBoard=function(e,r){for(var t=[],n=function(r,t){return r<e.length&&t<e[r].length?e[r][t].char:""},a=0;a<e.length;a++)for(var o="",l=0;l<e[a].length;l++)""!==n(a,l)&&(o+=n(a,l)),""!==n(a,l+1)&&l!==e[a].length-1||(o.length>1&&t.push(o),o="");for(l=0;l<e[0].length;l++){var s="";for(a=0;a<e.length;a++)""!==n(a,l)&&(s+=n(a,l)),""!==n(a+1,l)&&a!==e.length-1||(s.length>1&&t.push(s),s="")}return!e.some((function(r,t){return r.some((function(a,o){return""!==a.char&&[t>0?n(t-1,o):"",t<e.length-1?n(t+1,o):"",o>0?n(t,o-1):"",o<r.length-1?n(t,o+1):""].every((function(e){return""===e}))}))}))&&(console.log(t),t.filter((function(e){return function(e,r){for(var t=0,n=e.length-1;t<=n;){var a=Math.floor((t+n)/2),o=e[a];if(o===r)return!0;o<r?t=a+1:n=a-1}return!1}(r,e)})).length===t.length)}},376:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.validateUserCreation=r.validateLogin2=r.validateLogin=void 0;var n=t(667);r.validateLogin=function(){var e=document.getElementById("username1"),r=document.getElementById("password1");if(e&&r){var t=e.value,a=r.value,o=(0,n.findUser)(t);a==o.password&&""!==o.userName&&((0,n.setUserName)(1,t),console.log("Successfull login p1!"))}},r.validateLogin2=function(){var e=document.getElementById("username2"),r=document.getElementById("password2");if(e&&r){var t=e.value,a=r.value,o=(0,n.findUser)(t);a==o.password&&""!==o.userName&&((0,n.setUserName)(2,t),console.log("Success!"),alert("Successfull login p2!"))}},r.validateUserCreation=function(){var e=document.getElementById("newUsername"),r=document.getElementById("passwordForNewUser"),t=document.getElementById("retypePassword");if(e&&r&&t){var a=e.value,o=r.value,l=t.value;""==(0,n.findUser)(a).userName&&o==l&&((0,n.makeNewUser)(a,o),alert("New user created!"))}}},564:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.makeTilesDraggable=void 0;var n=t(704),a=t(401),o=t(4),l=t(951),s=t(131),i=t(667),c=t(242),u=t(376),d=document.getElementById("submitButton"),f=document.getElementById("newLetters"),g=(document.getElementById("takeBackLetters"),[]),v=0,p=0,h=[],m="",y="",E=(0,a.generateRandomLetters)(),S=[];fetch("lib/Collins Scrabble Words (2019).txt").then((function(e){return e.text()})).then((function(e){var r=e.split("\n").map((function(e){return e.replace(/\r/g,"")}));h=r})).catch((function(e){return console.error("Error reading the file:",e)}));var T=[[2,0,0,0,4,0,0,1,0,0,4,0,0,0,2],[0,1,0,0,0,2,0,0,0,2,0,0,0,1,0],[0,0,3,0,0,0,1,0,1,0,0,0,3,0,0],[0,0,0,2,0,0,0,3,0,0,0,2,0,0,0],[4,0,0,0,3,0,1,0,1,0,3,0,0,0,4],[0,2,0,0,0,2,0,0,0,2,0,0,0,2,0],[0,0,1,0,1,0,0,0,0,0,1,0,1,0,0],[1,0,0,3,0,0,0,-1,0,0,0,3,0,0,1],[0,0,1,0,1,0,0,0,0,0,1,0,1,0,0],[0,2,0,0,0,2,0,0,0,2,0,0,0,2,0],[4,0,0,0,3,0,1,0,1,0,3,0,0,0,4],[0,0,0,2,0,0,0,3,0,0,0,2,0,0,0],[0,0,3,0,0,0,1,0,1,0,0,0,3,0,0],[0,1,0,0,0,2,0,0,0,2,0,0,0,1,0],[2,0,0,0,4,0,0,1,0,0,4,0,0,0,2]];function b(){document.querySelectorAll(".tile").forEach((function(e){e.setAttribute("draggable","true"),e.addEventListener("dragstart",(function(r){if("true"===e.getAttribute("draggable")){var t=r;if(t.dataTransfer){if(t.dataTransfer.setData("text",e.id),!e.parentElement)throw new Error("tile.parentElement does not exist");var n=e.parentElement.id,a=parseInt(n.substring(0,n.indexOf(" "))),o=parseInt(n.substring(n.lastIndexOf(" ")+1)),l=g[a][o];p%2==0?(0,i.removeFromCurrentWord)(1,l):(0,i.removeFromCurrentWord)(2,l),l.char="",l.special}}else r.preventDefault()}))}))}function I(e,r){var t=document.getElementById(e);if(t)for(var n=0;n<r.length;n++){var a=document.createElement("div");a.classList.add("tile"),a.id="tile-".concat(e,"-").concat(n),a.textContent=r[n],a.setAttribute("draggable","true"),t.appendChild(a)}else console.error("Container with ID ".concat(e," not found."))}r.makeTilesDraggable=b,document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("board");e&&function(e,r,t,n){for(var a=0;a<15;a++){n.push([]);for(var o=function(r){n[a].push({row:a,col:r,special:0,char:""});var t=document.createElement("div"),o=String(a+" "+r);t.classList.add("cell"),t.addEventListener("dragover",(function(e){e.preventDefault(),t.classList.add("over")})),t.addEventListener("drop",(function(e){var r,n;if(e.preventDefault(),!e.dataTransfer)throw new Error("event.dataTransfer does not exist");var a=e.dataTransfer.getData("text"),o=document.getElementById(a),l=null===(r=e.target)||void 0===r?void 0:r.id;if(o&&t&&0==t.childElementCount){var c=o.innerText,u=null===(n=o.parentElement)||void 0===n?void 0:n.id;if(u&&u.includes("leftTiles")&&p%2==0){var d=!1;m=m.split("").filter((function(e){return!(!d&&e===c&&(d=!0,1))})).join("")}else if(u&&u.includes("rightTiles")&&p%2!=0){var f=!1;y=y.split("").filter((function(e){return!(!f&&e===c&&(f=!0,1))})).join("")}var h=parseInt(l.substring(0,l.indexOf(" "))),E=parseInt(l.substring(l.lastIndexOf(" ")+1)),T=g[h][E];if(T.char=c,0!==T.special&&(t.innerText=""),p%2==0){(0,i.addToCurrentWord)(1,T),v=(0,s.getPoints)(g,i.player1);var b=document.getElementById("player1Score");b&&(b.innerText="Score: ".concat((0,i.getPlayerScore)(1)+v))}else{(0,i.addToCurrentWord)(2,T),v=(0,s.getPoints)(g,i.player2);var I=document.getElementById("player2Score");I&&(I.innerText="Score: ".concat((0,i.getPlayerScore)(2)+v))}S.push({row:h,col:E,char:c,origin:(null==u?void 0:u.includes("leftTiles"))?"left":"right"}),t.appendChild(o),t.classList.remove("over")}})),0===T[a][r]?(n[a][r].special=0,e.appendChild(t),t.setAttribute("id",o)):1===T[a][r]?(n[a][r].special=1,t.setAttribute("data-special","double-letter"),t.setAttribute("id",o)):2===T[a][r]?(n[a][r].special=2,t.setAttribute("data-special","triple-letter"),t.setAttribute("id",o)):3===T[a][r]?(n[a][r].special=3,t.setAttribute("data-special","double-word"),t.setAttribute("id",o)):4===T[a][r]?(n[a][r].special=4,t.setAttribute("data-special","triple-word"),t.setAttribute("id",o)):-1===T[a][r]&&(n[a][r].special=-1,t.setAttribute("data-special","starting-square"),t.setAttribute("id",o)),e.appendChild(t)},l=0;l<15;l++)o(l)}}(e,0,0,g);for(var r=0;r<7;r++)m+=n.head(E),n.dequeue(E),y+=n.head(E),n.dequeue(E);I("leftTiles",m),I("rightTiles",y),b(),g.forEach((function(e,r){e.forEach((function(e,t){var n=document.getElementById("".concat(r," ").concat(t));null==n||n.addEventListener("contextmenu",(function(){var e=S.findIndex((function(e){return e.row===r&&e.col===t}));if(-1!==e){var a=S[e];"left"===a.origin&&p%2==0?(m+=a.char,(0,l.refreshTiles)("leftTiles",m)):"right"===a.origin&&p%2!=0&&(y+=a.char,(0,l.refreshTiles)("rightTiles",y)),g[r][t].char="",n.innerText="",S.splice(e,1)}}))}))}))})),d&&d.addEventListener("click",(function(){if(console.log(g),(0,o.checkWordsOnBoard)(g,h)&&""!==g[7][7].char&&(0,c.countConnectedLetters)(g,7,7)===(0,c.countPlacedSquares)(g)){document.querySelectorAll(".tile").forEach((function(e){e.className="notMovableEnyMore",e.setAttribute("draggable","false")})),p++;var e=document.getElementById("leftTiles"),r=document.getElementById("rightTiles");if(p%2==0){0!==i.player2.currentWords.length&&(0,i.addPlayerScore)(2,v);var t=document.getElementById("player2Score");for(t&&(t.innerText="Score: ".concat((0,i.getPlayerScore)(2))),(0,i.resetCurrentWord)(),r&&(r.style.display="none"),e&&(e.style.display="block");m.length<7&&!n.is_empty(E);)m+=n.head(E),n.dequeue(E);(0,l.refreshTiles)("leftTiles",m)}else{0!==i.player1.currentWords.length&&(0,i.addPlayerScore)(1,v);var a=document.getElementById("player1Score");for(a&&(a.innerText="Score: ".concat((0,i.getPlayerScore)(1))),(0,i.resetCurrentWord)(),e&&(e.style.display="none"),r&&(r.style.display="block");y.length<7&&!n.is_empty(E);)y+=n.head(E),n.dequeue(E);(0,l.refreshTiles)("rightTiles",y),S=[]}}})),f&&f.addEventListener("click",(function(){if(p%2==0){for(;0!==m.length;)n.enqueue(m.substring(m.length-1),E),m=m.substring(0,m.length-1);(0,l.refreshTiles)("leftTiles",m)}else{for(;0!==y.length;)n.enqueue(y.substring(y.length-1),E),y=y.substring(0,y.length-1);(0,l.refreshTiles)("rightTiles",y)}}));var B=document.getElementById("startButton"),W=document.getElementById("loginButton1"),L=document.getElementById("loginButton2"),C=document.getElementById("createUser"),U=document.getElementById("login-container"),O=document.getElementById("outerDiv"),w=document.getElementById("player1-name"),N=document.getElementById("player2-name");null!==B&&B.addEventListener("click",(function(){U&&(U.style.display="none"),O&&(O.style.display="block"),w&&(w.innerText="".concat(i.player1.user)),N&&(N.innerHTML="".concat(i.player2.user))})),null!==W&&W.addEventListener("click",u.validateLogin),L&&L.addEventListener("click",u.validateLogin2),C&&C.addEventListener("click",u.validateUserCreation)}},r={};!function t(n){var a=r[n];if(void 0!==a)return a.exports;var o=r[n]={exports:{}};return e[n](o,o.exports,t),o.exports}(564)})();