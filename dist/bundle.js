(()=>{"use strict";var e={367:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.refreshTiles=r.isTilePlaced=void 0;var n=t(564);r.isTilePlaced=function(e){return e.childElementCount>0},r.refreshTiles=function(e,r){var t=document.getElementById(e);if(t){t.innerHTML="";for(var o=0;o<r.length;o++){var a=document.createElement("div");a.classList.add("tile"),a.id="tile-".concat(e,"-").concat(o),a.textContent=r[o],t.appendChild(a)}(0,n.makeTilesDraggable)()}}},667:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.getCurrentWord=r.removeFromCurrentWord=r.addToCurrentWord=r.resetCurrentWord=r.setUserName=r.resetScores=r.addPlayerScore=r.getPlayerScore=r.player2=r.player1=void 0,r.player1={currentScore:0,user:"",currentWords:[]},r.player2={currentScore:0,user:"",currentWords:[]},r.getPlayerScore=function(e){return 1==e?r.player1.currentScore:r.player2.currentScore},r.addPlayerScore=function(e,t){1==e?r.player1.currentScore=r.player1.currentScore+t:r.player2.currentScore=r.player2.currentScore+t},r.resetScores=function(){r.player1.currentScore=0,r.player2.currentScore=0},r.setUserName=function(e,t){1==e?r.player1.user=t:r.player2.user=t},r.resetCurrentWord=function(){r.player1.currentWords=[],r.player2.currentWords=[]},r.addToCurrentWord=function(e,t){1==e?r.player1.currentWords.push(t):r.player2.currentWords.push(t)},r.removeFromCurrentWord=function(e,t){var n=1==e?r.player1.currentWords:r.player2.currentWords,o=n.indexOf(t);o>-1&&n.splice(o,1)},r.getCurrentWord=function(e){return 1==e?r.player1.currentWords:r.player2.currentWords}},131:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.getPoints=void 0;var n=t(564),o={a:1,b:3,c:3,d:2,e:1,f:4,g:2,h:4,i:1,j:8,k:5,l:1,m:3,n:1,o:1,p:3,q:10,r:1,s:1,t:1,u:1,v:4,w:4,x:8,y:4,z:10};r.getPoints=function(e,r){var t=[];function a(e,r,l,i,c,u,s){var d=r.char,f=0,p=u.some((function(e){return e.row===r.row&&e.col===r.col&&e.special===r.special&&e.char===r.char}));3===r.special&&p?s=2:4===r.special&&p&&(s=3),""!==d&&(f=o[d.toLowerCase()]*s),1===r.special&&p?f*=2:2===r.special&&p&&(f*=3),t.some((function(e){return e.row===r.row&&e.col===r.col&&e.special===r.special&&e.char===r.char}))?f=0:t.push(r);var g=r.row,v=r.col;return g===n.outerEdges.maxRow&&i>0||g===n.outerEdges.minRow&&i<0||v===n.outerEdges.maxCol&&c>0||v===n.outerEdges.minCol&&c<0?f:""===r.char?0:f+a(e,e[g+i][v+c],l+f,i,c,u,s)}var l=0;r.currentWords.sort((function(e,r){return r.special-e.special}));for(var i=0;i<r.currentWords.length;i++){var c=r.currentWords[i];l+=a(e,c,0,-1,0,r.currentWords,1)+a(e,c,0,1,0,r.currentWords,1)+a(e,c,0,0,-1,r.currentWords,1)+a(e,c,0,0,1,r.currentWords,1)}return l}},704:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.display_queue=r.dequeue=r.head=r.enqueue=r.is_empty=r.empty=void 0,r.empty=function(){return[0,0,[]]},r.is_empty=function(e){return e[0]===e[1]},r.enqueue=function(e,r){var t=r[1];r[2][t]=e,r[1]=t+1},r.head=function(e){var r=e[0];return e[2][r]},r.dequeue=function(e){var r=e[0];e[0]=r+1},r.display_queue=function(e){console.log(e[2].slice(e[0],e[1]))}},401:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.generateRandomLetters=void 0;var n=t(704);r.generateRandomLetters=function(){for(var e=n.empty(),r=function(e){for(var r,t,n=e.length;n>0;)t=Math.floor(Math.random()*n),n--,r=[e[t],e[n]],e[n]=r[0],e[t]=r[1];return e}(["E","E","E","E","E","E","E","E","E","E","E","E","A","A","A","A","A","A","A","A","A","I","I","I","I","I","I","I","I","I","O","O","O","O","O","O","O","O","N","N","N","N","N","N","R","R","R","R","R","R","T","T","T","T","T","T","L","L","L","L","S","S","S","S","U","U","U","U","D","D","D","D","G","G","G","B","B","C","C","M","M","P","P","F","F","H","H","V","V","W","W","Y","Y","K","J","X","Q","Z"]),t=0;t<r.length;t++)n.enqueue(r[t],e);return e}},4:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.checkWordsOnBoard=void 0,r.checkWordsOnBoard=function(e,r){for(var t=[],n=function(r,t){return r<e.length&&t<e[r].length?e[r][t].char:""},o=0;o<e.length;o++)for(var a="",l=0;l<e[o].length;l++)""!==n(o,l)&&(a+=n(o,l)),""!==n(o,l+1)&&l!==e[o].length-1||(a.length>1&&t.push(a),a="");for(l=0;l<e[0].length;l++){var i="";for(o=0;o<e.length;o++)""!==n(o,l)&&(i+=n(o,l)),""!==n(o+1,l)&&o!==e.length-1||(i.length>1&&t.push(i),i="")}return!e.some((function(r,t){return r.some((function(o,a){return""!==o.char&&[t>0?n(t-1,a):"",t<e.length-1?n(t+1,a):"",a>0?n(t,a-1):"",a<r.length-1?n(t,a+1):""].every((function(e){return""===e}))}))}))&&(console.log(t),t.filter((function(e){return function(e,r){for(var t=0,n=e.length-1;t<=n;){var o=Math.floor((t+n)/2),a=e[o];if(a===r)return!0;a<r?t=o+1:n=o-1}return!1}(r,e)})).length===t.length)}},564:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.makeTilesDraggable=r.outerEdges=void 0;var n=t(704),o=t(401),a=t(4),l=t(367),i=t(131),c=t(667);r.outerEdges={maxRow:0,minRow:0,maxCol:0,minCol:0};var u=document.getElementById("submitButton"),s=document.getElementById("newLetters"),d=document.getElementById("pass"),f=[],p=0,g=0,v=[],h="",m="",y=(0,o.generateRandomLetters)();fetch("lib/Collins Scrabble Words (2019).txt").then((function(e){return e.text()})).then((function(e){var r=e.split("\n").map((function(e){return e.replace(/\r/g,"")}));v=r})).catch((function(e){return console.error("Error reading the file:",e)}));var E=[[2,0,0,0,4,0,0,1,0,0,4,0,0,0,2],[0,1,0,0,0,2,0,0,0,2,0,0,0,1,0],[0,0,3,0,0,0,1,0,1,0,0,0,3,0,0],[0,0,0,2,0,0,0,3,0,0,0,2,0,0,0],[4,0,0,0,3,0,1,0,1,0,3,0,0,0,4],[0,2,0,0,0,2,0,0,0,2,0,0,0,2,0],[0,0,1,0,1,0,0,0,0,0,1,0,1,0,0],[1,0,0,3,0,0,0,5,0,0,0,3,0,0,1],[0,0,1,0,1,0,0,0,0,0,1,0,1,0,0],[0,2,0,0,0,2,0,0,0,2,0,0,0,2,0],[4,0,0,0,3,0,1,0,1,0,3,0,0,0,4],[0,0,0,2,0,0,0,3,0,0,0,2,0,0,0],[0,0,3,0,0,0,1,0,1,0,0,0,3,0,0],[0,1,0,0,0,2,0,0,0,2,0,0,0,1,0],[2,0,0,0,4,0,0,1,0,0,4,0,0,0,2]];function b(){document.querySelectorAll(".tile").forEach((function(e){e.setAttribute("draggable","true"),e.addEventListener("dragstart",(function(r){var t=r;if(t.dataTransfer){if(t.dataTransfer.setData("text",e.id),!e.parentElement)throw new Error("tile.parentElement does not exist");var n=e.parentElement.id,o=parseInt(n.substring(0,n.indexOf(" "))),a=parseInt(n.substring(n.lastIndexOf(" ")+1)),l=f[o][a];g%2==0?(0,c.removeFromCurrentWord)(1,l):(0,c.removeFromCurrentWord)(2,l),l.char="",l.special}}))}))}function T(e,r){var t=document.getElementById(e);if(t)for(var n=0;n<r.length;n++){var o=document.createElement("div");o.classList.add("tile"),o.id="tile-".concat(e,"-").concat(n),o.textContent=r[n],o.setAttribute("draggable","true"),t.appendChild(o)}else console.error("Container with ID ".concat(e," not found."))}r.makeTilesDraggable=b,document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("board");e&&(function(e,r,t,n){for(var o=0;o<15;o++){n.push([]);for(var a=function(r){n[o].push({row:o,col:r,special:0,char:""});var t=document.createElement("div"),a=String(o+" "+r);t.classList.add("cell"),t.addEventListener("dragover",(function(e){e.preventDefault(),t.classList.add("over")})),t.addEventListener("drop",(function(e){var r,n;if(e.preventDefault(),!e.dataTransfer)throw new Error("event.dataTransfer does not exist");var o=e.dataTransfer.getData("text"),a=document.getElementById(o),l=null===(r=e.target)||void 0===r?void 0:r.id;if(a&&t&&0==t.childElementCount){var u=a.innerText,s=null===(n=a.parentElement)||void 0===n?void 0:n.id;s&&s.includes("leftTiles")?h=h.split("").filter((function(e){return e!==u})).join(""):s&&s.includes("rightTiles")&&(m=m.split("").filter((function(e){return e!==u})).join(""));var d=parseInt(l.substring(0,l.indexOf(" "))),v=parseInt(l.substring(l.lastIndexOf(" ")+1)),y=f[d][v];if(y.char=u,0!==y.special&&(t.innerText=""),g%2==0){(0,c.addToCurrentWord)(1,y),p=(0,i.getPoints)(f,c.player1);var E=document.getElementById("player1Score");E&&(E.innerText="Score: ".concat((0,c.getPlayerScore)(1)+p))}else{(0,c.addToCurrentWord)(2,y),p=(0,i.getPoints)(f,c.player2);var b=document.getElementById("player2Score");b&&(b.innerText="Score: ".concat((0,c.getPlayerScore)(2)+p))}t.appendChild(a),t.classList.remove("over")}})),0===E[o][r]?(n[o][r].special=0,e.appendChild(t),t.setAttribute("id",a)):1===E[o][r]?(n[o][r].special=1,t.setAttribute("data-special","double-letter"),t.setAttribute("id",a)):2===E[o][r]?(n[o][r].special=2,t.setAttribute("data-special","triple-letter"),t.setAttribute("id",a)):3===E[o][r]?(n[o][r].special=3,t.setAttribute("data-special","double-word"),t.setAttribute("id",a)):4===E[o][r]?(n[o][r].special=4,t.setAttribute("data-special","triple-word"),t.setAttribute("id",a)):5===E[o][r]&&(n[o][r].special=5,t.setAttribute("data-special","starting-square"),t.setAttribute("id",a)),e.appendChild(t)},l=0;l<15;l++)a(l)}}(e,0,0,f),r.outerEdges={maxRow:14,minRow:0,maxCol:14,minCol:0});for(var t=0;t<7;t++)h+=n.head(y),n.dequeue(y),m+=n.head(y),n.dequeue(y);T("leftTiles",h),T("rightTiles",m),b()})),u&&u.addEventListener("click",(function(){if((0,a.checkWordsOnBoard)(f,v)){document.querySelectorAll(".tile").forEach((function(e){e.className="notMovableEnyMore",e.setAttribute("draggable","false")})),g++;var e=document.getElementById("leftTiles"),r=document.getElementById("rightTiles");if(g%2==0){(0,c.addPlayerScore)(2,p);var t=document.getElementById("player2Score");for(t&&(t.innerText="Score: ".concat((0,c.getPlayerScore)(2))),(0,c.resetCurrentWord)(),r&&(r.style.display="none"),e&&(e.style.display="block");h.length<7&&!n.is_empty(y);)h+=n.head(y),n.dequeue(y);(0,l.refreshTiles)("leftTiles",h)}else{(0,c.addPlayerScore)(1,p);var o=document.getElementById("player1Score");for(o&&(o.innerText="Score: ".concat((0,c.getPlayerScore)(1))),(0,c.resetCurrentWord)(),e&&(e.style.display="none"),r&&(r.style.display="block");m.length<7&&!n.is_empty(y);)m+=n.head(y),n.dequeue(y);(0,l.refreshTiles)("rightTiles",m)}}})),s&&s.addEventListener("click",(function(){if(g%2==0){for(;0!==h.length;)n.enqueue(h.substring(h.length-1),y),h=h.substring(0,h.length-1);(0,l.refreshTiles)("leftTiles",h)}else{for(;0!==m.length;)n.enqueue(m.substring(m.length-1),y),m=m.substring(0,m.length-1);(0,l.refreshTiles)("rightTiles",m)}})),d&&d.addEventListener("click",(function(){g++}))}},r={};!function t(n){var o=r[n];if(void 0!==o)return o.exports;var a=r[n]={exports:{}};return e[n](a,a.exports,t),a.exports}(564)})();