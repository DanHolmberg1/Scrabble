(()=>{"use strict";var e={704:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.display_queue=t.dequeue=t.head=t.enqueue=t.is_empty=t.empty=void 0,t.empty=function(){return[0,0,[]]},t.is_empty=function(e){return e[0]===e[1]},t.enqueue=function(e,t){var n=t[1];t[2][n]=e,t[1]=n+1},t.head=function(e){var t=e[0];return e[2][t]},t.dequeue=function(e){var t=e[0];e[0]=t+1},t.display_queue=function(e){console.log(e[2].slice(e[0],e[1]))}},401:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.generateRandomLetters=void 0;var r=n(704);t.generateRandomLetters=function(){for(var e=r.empty(),t=function(e){for(var t,n,r=e.length;r>0;)n=Math.floor(Math.random()*r),r--,t=[e[n],e[r]],e[r]=t[0],e[n]=t[1];return e}(["E","E","E","E","E","E","E","E","E","E","E","E","A","A","A","A","A","A","A","A","A","I","I","I","I","I","I","I","I","I","O","O","O","O","O","O","O","O","N","N","N","N","N","N","R","R","R","R","R","R","T","T","T","T","T","T","L","L","L","L","S","S","S","S","U","U","U","U","D","D","D","D","G","G","G","B","B","C","C","M","M","P","P","F","F","H","H","V","V","W","W","Y","Y","K","J","X","Q","Z"]),n=0;n<t.length;n++)r.enqueue(t[n],e);return e}},4:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.checkWordsOnBoard=void 0,t.checkWordsOnBoard=function(e,t){for(var n=[],r=function(t,n){return t<e.length&&n<e[t].length?e[t][n].char:""},i=0;i<e.length;i++)for(var a="",o=0;o<e[i].length;o++)""!==r(i,o)&&(a+=r(i,o)),""!==r(i,o+1)&&o!==e[i].length-1||(a.length>1&&n.push(a),a="");for(o=0;o<e[0].length;o++){var l="";for(i=0;i<e.length;i++)""!==r(i,o)&&(l+=r(i,o)),""!==r(i+1,o)&&i!==e.length-1||(l.length>1&&n.push(l),l="")}return!e.some((function(t,n){return t.some((function(i,a){return""!==i.char&&[n>0?r(n-1,a):"",n<e.length-1?r(n+1,a):"",a>0?r(n,a-1):"",a<t.length-1?r(n,a+1):""].every((function(e){return""===e}))}))}))&&(console.log(n),n.filter((function(e){return function(e,t){for(var n=0,r=e.length-1;n<=r;){var i=Math.floor((n+r)/2),a=e[i];if(a===t)return!0;a<t?n=i+1:r=i-1}return!1}(t,e)})).length===n.length)}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}(()=>{var e=n(704),t=n(401),r=n(4),i=[],a=0,o=[],l="",d="",s=(0,t.generateRandomLetters)();fetch("lib/Collins Scrabble Words (2019).txt").then((function(e){return e.text()})).then((function(e){o=e.split("\n")})).catch((function(e){return console.error("Error loading the text file:",e)}));var u=[[2,0,0,0,4,0,0,1,0,0,4,0,0,0,2],[0,1,0,0,0,2,0,0,0,2,0,0,0,1,0],[0,0,3,0,0,0,1,0,1,0,0,0,3,0,0],[0,0,0,2,0,0,0,3,0,0,0,2,0,0,0],[4,0,0,0,3,0,1,0,1,0,3,0,0,0,4],[0,2,0,0,0,2,0,0,0,2,0,0,0,2,0],[0,0,1,0,1,0,0,0,0,0,1,0,1,0,0],[1,0,0,3,0,0,0,5,0,0,0,3,0,0,1],[0,0,1,0,1,0,0,0,0,0,1,0,1,0,0],[0,2,0,0,0,2,0,0,0,2,0,0,0,2,0],[4,0,0,0,3,0,1,0,1,0,3,0,0,0,4],[0,0,0,2,0,0,0,3,0,0,0,2,0,0,0],[0,0,3,0,0,0,1,0,1,0,0,0,3,0,0],[0,1,0,0,0,2,0,0,0,2,0,0,0,1,0],[2,0,0,0,4,0,0,1,0,0,4,0,0,0,2]];function c(){document.querySelectorAll(".tile").forEach((function(e){e.setAttribute("draggable","true"),e.addEventListener("dragstart",(function(t){var n=t;if(n.dataTransfer){if(n.dataTransfer.setData("text",e.id),!e.parentElement)throw new Error("tile.parentElement does not exist");var r=e.parentElement.id,a=parseInt(r.substring(0,r.indexOf(" "))),o=parseInt(r.substring(r.lastIndexOf(" ")+1)),l=i[a][o];l.char="",l.special}}))}))}function f(e,t){var n=document.getElementById(e);if(n)for(var r=0;r<t.length;r++){var i=document.createElement("div");i.classList.add("tile"),i.id="tile-".concat(e,"-").concat(r),i.textContent=t[r],i.setAttribute("draggable","true"),n.appendChild(i)}else console.error("Container with ID ".concat(e," not found."))}function p(e,t){var n=document.getElementById(e);if(n){n.innerHTML="";for(var r=0;r<t.length;r++){var i=document.createElement("div");i.classList.add("tile"),i.id="tile-".concat(e,"-").concat(r),i.textContent=t[r],n.appendChild(i)}c()}}document.addEventListener("DOMContentLoaded",(function(){var t=document.getElementById("board");t&&function(e,t,n,a){for(var s=0;s<15;s++){a.push([]);for(var c=function(t){a[s].push({row:s,col:t,special:0,char:""});var n=document.createElement("div"),c=String(s+" "+t);n.classList.add("cell"),n.addEventListener("dragover",(function(e){e.preventDefault(),n.classList.add("over")})),n.addEventListener("drop",(function(e){var t,a;if(e.preventDefault(),!e.dataTransfer)throw new Error("event.dataTransfer does not exist");var s=e.dataTransfer.getData("text"),u=document.getElementById(s),c=null===(t=e.target)||void 0===t?void 0:t.id;if(u&&n&&0==n.childElementCount){var f=u.innerText,p=null===(a=u.parentElement)||void 0===a?void 0:a.id;p&&p.includes("leftTiles")?l=l.split("").filter((function(e){return e!==f})).join(""):p&&p.includes("rightTiles")&&(d=d.split("").filter((function(e){return e!==f})).join(""));var h=parseInt(c.substring(0,c.indexOf(" "))),v=parseInt(c.substring(c.lastIndexOf(" ")+1)),g=i[h][v];g.char=f,0!==g.special&&(n.innerText=""),console.log(i),console.log("after"),console.log("spellchecking",(0,r.checkWordsOnBoard)(i,o)),n.appendChild(u),n.classList.remove("over")}})),0===u[s][t]?(a[s][t].special=0,e.appendChild(n),n.setAttribute("id",c)):1===u[s][t]?(a[s][t].special=1,n.textContent="DL",n.setAttribute("data-special","double-letter"),n.setAttribute("id",c)):2===u[s][t]?(a[s][t].special=2,n.textContent="TL",n.setAttribute("data-special","triple-letter"),n.setAttribute("id",c)):3===u[s][t]?(a[s][t].special=3,n.textContent="DW",n.setAttribute("data-special","double-word"),n.setAttribute("id",c)):4===u[s][t]?(a[s][t].special=4,n.textContent="TW",n.setAttribute("data-special","triple-word"),n.setAttribute("id",c)):5===u[s][t]&&(a[s][t].special=5,n.textContent="S",n.setAttribute("data-special","starting-square"),n.setAttribute("id",c)),e.appendChild(n)},f=0;f<15;f++)c(f)}}(t,0,0,i);for(var n=0;n<7;n++)l+=e.head(s),e.dequeue(s),d+=e.head(s),e.dequeue(s);f("leftTiles",l),f("rightTiles",d),c()}));var h=document.getElementById("submitButton");h&&h.addEventListener("click",(function(){if((0,r.checkWordsOnBoard)(i,o)){a++;var t=document.getElementById("leftTiles"),n=document.getElementById("rightTiles");if(a%2==0){for(n&&(n.style.display="none"),t&&(t.style.display="block");l.length<7&&!e.is_empty(s);)l+=e.head(s),e.dequeue(s);p("leftTiles",l)}else{for(t&&(t.style.display="none"),n&&(n.style.display="block");d.length<7&&!e.is_empty(s);)d+=e.head(s),e.dequeue(s);p("rightTiles",d)}}}))})()})();